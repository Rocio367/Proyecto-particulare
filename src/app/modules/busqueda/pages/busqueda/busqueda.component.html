<div class="container container-color">
  <div class="row">
    <div class='col-lg-4 ' style='margin-top: 1.6em;'>
      <p-card class='text-center' >

        <h2 class='color-f'>Otros filtros <i class="icofont-filter fs-21"></i></h2>

        <div class="mt-3 ">
          <h5>Materias sugeridas</h5>
          <p-selectButton [options]="materias" [multiple]="true" [(ngModel)]="selectedMateria" optionLabel="name">
          </p-selectButton>
        </div>
        <div class="mt-3 ">
          <h5>Tipos</h5>
          <p-selectButton [options]="tipos" [multiple]="true" [(ngModel)]="selectedType" optionLabel="name">
          </p-selectButton>

        </div>
        <div class="mt-3 ">
          <h5>Fecha</h5>
          <span class="p-float-label w-80  mt-4">
            <input id="float-input" placeholder="Filtrar por particular..." class='w-100' type="text" pInputText>
          </span>
        </div>

        <div class="mt-3 ">
          <h5>Niveles</h5>
          <p-selectButton [options]="niveles" [multiple]="true" [(ngModel)]="selectedNiveles" optionLabel="name">
          </p-selectButton>

        </div>

        <div class="mt-3 ">
          <h5>Ubicacion</h5>
          <input class='w-100' ngx-google-places-autocomplete placeholder="Filtrar por ubicacion..." type="text" pInputText
            [options]='options' #placesRef="ngx-places" (onAddressChange)="handleAddressChange($event)" />

        </div>
        <div class="mt-3">
          <h5>Fecha</h5>
          <p-calendar class='w-100'  placeholder="Filtrar por fecha..."></p-calendar>

        </div>

        <div class="mt-3 text-center">
          <button pButton type="button"  class='ml-3' (click)='filtrar()' label="Aplicar"></button>
          <button pButton type="button" class='ml-3' (click)='limpiar()' label="Limpiar"></button>
        </div>




      </p-card>
    </div>

    <div class="col-lg-8">

      <div class='m-4'>
        <p-orderList [value]="results" controlsPosition="right" [listStyle]="{'height':'auto'}"
          header="Resultados de la busqueda" filterBy="nombre,estado,materia,institucion,carrera"
          filterPlaceholder="Filtrar por nombre" [dragdrop]="false" (onSelectionChange)='onSelectionChange($event)'>
          <ng-template let-item pTemplate="item">

            <div class="product-item">
              <div class="product-list-img">
                <img [src]="'./assets/img/'+item.foto" style="display:inline-block;margin:2px 0 2px 2px; width:100%">

              </div>
              <div class="product-list-detail">
                <h5 class="p-mb-2">{{item.materia}}</h5>
                <span><i class='pi pi-map-marker
                  '></i> {{item.ubicacion}}</span>
                <span>{{item.descripcion}}</span>
              </div>
              <div class="product-list-action">
                <div class='stars'>
                  <i class="pi pi-star" [ngClass]='(item.stars >= 1)?"amarillo":""'></i>
                  <i class="pi pi-star" [ngClass]='(item.stars >= 2)?"amarillo":""'></i>
                  <i class="pi pi-star" [ngClass]='(item.stars >= 3)?"amarillo":""'></i>
                  <i class="pi pi-star" [ngClass]='(item.stars >= 4)?"amarillo":""'></i>
                  <i class="pi pi-star" [ngClass]='(item.stars >= 5)?"amarillo":""'></i>
                  <span class='subtitle'>
                    {{item.stars}}/ 5
                  </span>
                </div>


                <span class="product-category"> {{item.type}}</span>


              </div>
            </div>
          </ng-template>
        </p-orderList>
      </div>

      <div class="paginacion" *ngIf='!spinner'>
        <div (click)='cambiarPagina(page)' *ngFor="let page of  pages" class="number "
          [ngClass]='(numberActive == page  )?"active":""'>{{page}}</div>
      </div>
    </div>
  </div>
</div>
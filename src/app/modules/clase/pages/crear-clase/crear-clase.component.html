<div class="container container-color pb-5 pt-5" style="min-height: 45vh; width: 80%">
  <div class="row">
    <div class="col-lg-12 text-center">
      <div>
        <mat-card class="card-container card">
          <h3>Nueva clase</h3>
          <form [formGroup]="formDatos" class="ui large error form">
            <div class="grid container">
              <div class="col-md-6">
                <br />
                <div class="field col-12">
                  <span class="p-float-label">
                    <input id="nombre" type="text" pInputText formControlName="nombre" class="inputfield w-full" />
                    <label for="nombre">Nombre</label>
                  </span>
                  <div *ngIf="formDatos.get('nombre').hasError('required') && formDatos.get('nombre').touched"
                    class="text-center">
                    <small class="p-error">Este campo es <strong>requerido</strong></small>
                  </div>
                </div>

                <div class="field col-12">
                  <span>
                    <p-dropdown id="nivel" [autoDisplayFirst]="false" [options]="_niveles" placeholder="Nivel"
                      class="w-100" formControlName="nivel" optionLabel="descripcion" optionValue="id">
                    </p-dropdown>
                  </span>
                  <div *ngIf="formDatos.get('nivel').hasError('required') && formDatos.get('nivel').touched"
                    class="text-center">
                    <small class="p-error">Este campo es <strong>requerido</strong></small>
                  </div>
                </div>
                <div class="field col-12">
                  <span class="p-float-label">
                    <p-dropdown id="modo" [autoDisplayFirst]="false" [options]="modo" placeholder="Modo" class="w-100"
                      formControlName="modo" optionLabel="name" optionValue="value" (onChange)=' esGrupal()'>

                    </p-dropdown>
                  </span>
                  <div *ngIf="formDatos.get('modo').hasError('required') && formDatos.get('modo').touched"
                    class="text-center">
                    <small class="p-error">Este campo es <strong>requerido</strong></small>
                  </div>
                </div>

                <div class="field col-12">
                  <span class="p-float-label">
                    <input id="precio" type="number" pInputText formControlName="precio" class="inputfield w-full" />
                    <label for="precio">Precio</label>
                  </span>
                  <div *ngIf="
                      formDatos.get('precio').hasError('required') &&
                      formDatos.get('precio').touched
                    " class="text-center">
                    <small class="p-error">Este campo es <strong>requerido</strong></small>
                    <div *ngIf="formDatos.get('precio').hasError('min') && formDatos.get('precio').touched"
                      class="text-center">
                      <small class="p-error">El valor de este campo debe ser mayor a <strong>0</strong></small>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <br />

                <div class="field col-12">
                  <span class="p-float-label">
                    <p-dropdown id="materia" [autoDisplayFirst]="false" [options]="_materias" placeholder="Materia"
                      class="w-100" formControlName="materia" optionLabel="nombre" optionValue="id">
                    </p-dropdown>
                  </span>
                  <div *ngIf="
                      formDatos.get('materia').hasError('required') &&
                      formDatos.get('materia').touched
                    " class="text-center">
                    <small class="p-error">Este campo es <strong>requerido</strong></small>
                  </div>
                </div>
                <div class="field col-12">
                  <span class="p-float-label">
                    <p-dropdown id="metodo" [autoDisplayFirst]="false" [options]="metodo" placeholder="Método"
                      class="w-100" formControlName="metodo" optionLabel="name" optionValue="value">
                    </p-dropdown>
                  </span>
                  <div *ngIf="formDatos.get('metodo').hasError('required') && formDatos.get('metodo').touched"
                    class="text-center">
                    <small class="p-error">Este campo es <strong>requerido</strong></small>
                  </div>
                </div>
                <div class="field col-12" *ngIf='cupo'>
                  <span class="p-float-label">
                    <input type="number" pInputText formControlName="cupo" class="inputfield w-full" />
                    <label for="nombre">Cupo</label>
                  </span>
                  <div *ngIf="formDatos.get('cupo').hasError('required') && formDatos.get('cupo').touched"
                    class="text-center">
                    <small class="p-error">Este campo es <strong>requerido</strong></small>
                  </div>
                  <div *ngIf="formDatos.get('cupo').hasError('min') && formDatos.get('cupo').touched"
                    class="text-center">
                    <small class="p-error">El valor minimo de estecampo es <strong>2</strong></small>
                  </div>
                </div>
                <div class="field col-12">
                  <span class="p-float-label">
                    <textarea id="descripcion" type="text" pInputText formControlName="descripcion"
                      class="inputfield w-full"></textarea>
                    <label for="descripcion">Descripción</label>
                  </span>
                  <div *ngIf="
                      formDatos.get('descripcion').hasError('required') &&
                      formDatos.get('descripcion').touched
                    " class="text-center">
                    <small class="p-error">Este campo es <strong>requerido</strong></small>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-12 text-center">
              <app-calendar-completar (addDisponibilidad)="addDisponibilidad($event)"></app-calendar-completar>
            </div>
            <button pButton class="mt-2" (click)="registrarClase()">
              Crear clase
            </button>
          </form>
        </mat-card>
      </div>
    </div>
  </div>
</div>
<div class="p-3 container-color">
  <app-perfi-header></app-perfi-header>
  <p-card styleClass="mt-3">
    <div class="grid">
      <div class="col">

        <h4 class="color-f">Datos académicos: </h4>
        <mat-list-item *ngFor="let item of datosAcademicos">
          <mat-card>
            <div mat-line><i class="pi pi-briefcase
                ml-2 mr-2" style="font-size: 1rem"></i>{{item.titulo}}</div>
            <div class='ml-2' mat-line> {{item.fechaInicio}} - {{item.fechaFin}}</div>
            <div class='ml-2' *ngIf='item.doc' mat-line> <a style="color:#35a763;cursor:pointer;"
                (click)="oponDoc(item.doc)"> Ver certificado</a></div>
            <div class='actions'>
              <i class="pi pi-trash fs-21 m-1" (click)='eliminar(item.id)' style="cursor:pointer;color:red"></i>
            </div>

          </mat-card>
        </mat-list-item>

        <form [formGroup]="formDatos" class="ui large error form text-center">

          <div class="grid container">
            <div class="col-md-6">
              <br>
              <div class="field col-12">
                <span class="p-float-label">
                  <input id="materia" formControlName="titulo" type="text" pInputText class="inputfield w-full">
                  <label for="materia">Título</label>
                </span>
                <div
                  *ngIf="formDatos.get('titulo').hasError('required') && formDatos.get('titulo').touched"
                  class="text-center">
                  <small class="p-error">Este campo es <strong>requerido</strong></small>
                </div>
              </div>

              <div class="field col-12">
                <span class="p-float-label">
                  <p-calendar inputId="fechaDesde" formControlName="desde" dateFormat="dd-mm-yy" 
                  [showIcon]="true" styleClass="w-full" 
                  [monthNavigator]="true" [yearNavigator]="true"></p-calendar>
                  <label for="fechaNacimiento">Desde</label>
              </span>
              <div *ngIf="formDatos.get('desde').hasError('required') && formDatos.get('desde').touched" class="text-center">
                  <small class="p-error">Este campo es <strong>requerido</strong></small>
              </div>
              </div>

            </div>
            <div class="col-md-6">
              <br>

              <div class="field col-12">
                <span class="p-float-label">
                  <p-calendar inputId="fechaHasta" formControlName="hasta" dateFormat="dd-mm-yy" 
                  [showIcon]="true" styleClass="w-full" 
                  [monthNavigator]="true" [yearNavigator]="true"></p-calendar>
                  <label for="fechaNacimiento">Hasta</label>
              </span>
              <div *ngIf="formDatos.get('hasta').hasError('required') && formDatos.get('hasta').touched" class="text-center">
                  <small class="p-error">Este campo es <strong>requerido</strong></small>
              </div>
              </div>

              <div class="field col-12">
                  <mat-form-field class='pl-3 input-large'>
                      <ngx-mat-file-input
                          formControlName="documento"
                          multiple=false
                          accept=".png, .jpg, .jpeg"
                          color="warn" placeholder="Documento">
                          <mat-icon ngxMatFileInputIcon>add_a_photo</mat-icon>
                      </ngx-mat-file-input>
                  </mat-form-field>
              </div>

            </div>

          </div>

          <button pButton type="submit" (click)='confirmar()' style='margin:auto'>Agregar</button>
        </form>
      </div>
    </div>
  </p-card>

  
 
  <p-card styleClass="mt-3">
    <p-table [value]="clases">
      <ng-template pTemplate="caption">
        <div>
          <h4 class="color-f">Mis clases</h4>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th>Materia</th>
          <th>Fecha de publicación</th>
          <th>Cantidad de alumnos</th>
          <th>Calificación</th>

          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-clase>
        <tr>
          <td>{{clase.materia.nombre}}</td>
          <td>{{clase.fecha |date:'d/M/yy, h:mm a'}}</td>
          <td>{{clase.cupo}}</td>
          <td>{{clase.puntuacion}} / 5</td>
          <td><button pButton label="Ver más" (click)='verDetalle(clase)'></button></td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
  <p-card styleClass="mt-3">
    <div class="grid">
      <div class="col">
        <h4 class="color-f">Calificaciones y opiniones</h4>
        <div class="flex justify-content-center">
          <i class="pi pi-star fs-25 x" [ngClass]='(5 >= 1)?"amarillo":""'></i>
          <i class="pi pi-star fs-25 x" [ngClass]='(5 >= 2)?"amarillo":""'></i>
          <i class="pi pi-star fs-25 x" [ngClass]='(5 >= 3)?"amarillo":""'></i>
          <i class="pi pi-star  fs-25 x" [ngClass]='(5 >= 4)?"amarillo":""'></i>
          <i class="pi pi-star fs-25 x" [ngClass]='(5 >= 5)?"amarillo":""'></i>
          <span class='subtitle'>
            5 / 5
          </span>
        </div>
        <app-comentarios-particular></app-comentarios-particular>
      </div>
    </div>
  </p-card>
</div>